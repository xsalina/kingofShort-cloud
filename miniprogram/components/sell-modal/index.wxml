<view class="modal-mask {{show ? 'show' : ''}}" bindtap="onClose" catchtouchmove="true">
  
  <view 
    class="modal-content" 
    catchtap="stopPropagation"
    style="padding-bottom: {{keyboardHeight > 0 ? keyboardHeight + 'px' : 'calc(40rpx + env(safe-area-inset-bottom))'}}"
  >
        <view class="modal-header row-between">
            <view class="font-bold font-lg">卖出股票</view>
            <view class="close-btn" bindtap="onClose">×</view>
        </view>
        <view class="modal-tips row-between">
            <view>单股成本均价: {{tx.currency}} {{tx.avgCost}}</view>
            <view>可卖股数: {{tx.remainingQuantity}}</view>
        </view>
        <view class="form-group">
            <input class="form-input" type="digit" placeholder="卖出价格({{tx.currency}})" value="{{sellPrice}}" bindinput="onInput" data-field="sellPrice" adjust-position="{{false}}"
        hold-keyboard="{{true}}" />
        </view>
        <view class="form-row-2">
            <input class="form-input" type="digit" placeholder="卖出数量" value="{{sellQty}}" bindinput="onInput" data-field="sellQty" adjust-position="{{false}}"
        hold-keyboard="{{true}}" />
            <input class="form-input" type="digit" placeholder="手续费({{tx.currency}})" value="{{sellFee}}" bindinput="onInput" data-field="sellFee" adjust-position="{{false}}"
        hold-keyboard="{{true}}" />
        </view>
        <view class="calc-result row-between">
            <view class="text-sub">预计本次收益</view>
            <view class="font-xl {{estimatedProfit >= 0 ? 'text-profit' : 'text-loss'}}">
                {{estimatedProfit >= 0 ? '+' : '-'}}{{tx.currency}} {{estimatedProfitText || '--'}}
            </view>
        </view>
        <view class="modal-footer row-between">
            <button class="btn-cancel" bindtap="onClose">取消</button>
            <button class="btn-confirm" loading="{{submitting}}"
        disabled="{{submitting}}" bindtap="confirmSell">{{submitting ? '提交中' : '确认卖出'}}</button>
        </view>
    </view>
</view>