<view class="container">
  
  <view class="card input-section">
   <view class="section-header">
      <view class="section-title">åŸºç¡€å‚æ•°</view>
      
      <view class="stock-info-mini" >
        <text class="mini-name">{{stockName}}</text>
        <text class="mini-code" >{{stockCode}}</text>
      </view>
    </view>
    <view class="grid-container">
      <view class="grid-row">
        <view class="grid-item">
          <text class="label">æœ€åä¹°å…¥ä»·</text>
          <view class="input-wrap">
            <input class="input" type="digit" placeholder="0.00" data-field="lastBuyPrice" value="{{lastBuyPrice}}" bindinput="inputChange" />
          </view>
        </view>
        <view class="grid-item">
          <text class="label">ä»Šæ—¥æ”¶ç›˜ä»·</text>
          <view class="input-wrap">
            <input class="input" type="digit" placeholder="0.00" data-field="todayPrice" value="{{todayPrice}}" bindinput="inputChange" />
          </view>
        </view>
      </view>
      
      <view class="grid-row mt-20">
        <view class="grid-item">
          <text class="label">æŒæœ‰è‚¡æ•°</text>
          <view class="input-wrap">
            <input class="input" type="number" placeholder="0" data-field="hold" value="{{hold}}" bindinput="inputChange" />
          </view>
        </view>
        <view class="grid-item">
          <text class="label">å‰©ä½™èµ„é‡‘</text>
          <view class="input-wrap">
            <input class="input" type="digit" placeholder="0.00" data-field="cash" value="{{cash}}" bindinput="inputChange" />
          </view>
        </view>
      </view>
    </view>
  </view>

  <view class="tab-wrapper">
    <view class="tab-slider" style="transform: translateX({{mode == 'aggressive' ? '100%' : '0%'}});"></view>
    
    <view class="tab-item {{mode=='steady'?'active':''}}" data-mode="steady" bindtap="switchMode">
      ç¨³å¥å‹ (ä¿å®ˆ)
    </view>
    
    <view class="tab-item {{mode=='aggressive'?'active':''}}" data-mode="aggressive" bindtap="switchMode">
      æ¿€è¿›å‹ (è¿›å–)
    </view>
  </view>

  <view class="tips-card" wx:if="{{tips.length > 0}}">
    <view class="tips-icon">ğŸ’¡</view>
    <view class="tips-content">
      <block wx:for="{{tips}}" wx:key="index">
        <view class="tips-text">{{item}}</view>
      </block>
    </view>
  </view>

  <swiper 
    class="main-swiper" 
    indicator-dots="{{true}}" 
    current="{{swiperIndex}}" 
    bindchange="swiperChange"   
    indicator-color="rgba(0, 0, 0, 0.15)" 
    indicator-active-color="#00b894"
  >
    
    <swiper-item>
      <view class="card table-card">
        <view class="card-header-row">
          <text class="card-title">â¬‡ï¸ ä½å¸ç­–ç•¥ (ä¹°å…¥)</text>
          <text class="card-tag green">å»ºä»“</text>
        </view>
        
        <view class="table">
          <view class="thead">
            <text class="th col-status">çŠ¶æ€</text>
            <text class="th col-level">å±‚çº§</text>
            <text class="th col-rate">å›è°ƒ</text>
            <text class="th col-price">ä»·æ ¼</text>
            <text class="th col-num">è‚¡æ•°</text>
            <text class="th col-money">é‡‘é¢</text>
          </view>
          
          <view class="tbody">
            <block wx:for="{{buyTable}}" wx:key="level">
              <view class="trow {{item.triggered ? 'row-triggered-buy' : ''}}">
                <text class="td col-status">{{item.triggered ? 'âœ…' : '-'}}</text>
                <text class="td col-level">{{item.level}}</text>
                <text class="td col-rate">{{item.dropRange}}</text>
                <text class="td col-price font-bold">{{item.triggerRange}}</text>
                <text class="td col-num">{{item.buySharesDetail}}</text>
                <text class="td col-money">{{item.buyAmount}}</text>
              </view>
            </block>
          </view>
        </view>
      </view>
    </swiper-item>

    <swiper-item>
      <view class="card table-card">
        <view class="card-header-row">
          <text class="card-title">â¬†ï¸ æ­¢ç›ˆç­–ç•¥ (å–å‡º)</text>
          <text class="card-tag red">æ­¢ç›ˆ</text>
        </view>

        <view class="table">
          <view class="thead">
            <text class="th col-status">çŠ¶æ€</text>
            <text class="th col-level">å±‚çº§</text>
            <text class="th col-rate">æ¶¨å¹…</text>
            <text class="th col-price">ä»·æ ¼</text>
            <text class="th col-num">è‚¡æ•°</text>
            <text class="th col-money">æ”¶ç›Š</text>
          </view>
          
          <view class="tbody">
            <block wx:for="{{sellTable}}" wx:key="level">
              <view class="trow {{item.triggered ? 'row-triggered-sell' : ''}}">
                <text class="td col-status">{{item.triggered ? 'âœ…' : '-'}}</text>
                <text class="td col-level">{{item.level}}</text>
                <text class="td col-rate">{{item.riseRange}}</text>
                <text class="td col-price font-bold">{{item.triggerRange}}</text>
                <text class="td col-num">{{item.sellShares}}</text>
                <text class="td col-money">{{item.sellAmount}}</text>
              </view>
            </block>
          </view>
        </view>
      </view>
    </swiper-item>

  </swiper>
 

  <view class="footer-tips">
    <view class="footer-line">â€”â€”â€”â€” é£é™©æ­ç¤º â€”â€”â€”â€”</view>
    <view class="footer-text">æœ¬å·¥å…·ä»…æ ¹æ®æ‚¨è®¾å®šçš„å‚æ•°è¿›è¡Œæ•°å­¦è®¡ç®—ï¼Œç”Ÿæˆçš„æ•°æ®ä»…ä¾›å‚è€ƒï¼Œä¸æ„æˆä»»ä½•æŠ•èµ„å»ºè®®ã€‚</view>
    <view class="footer-text">å¸‚åœºæœ‰é£é™©ï¼ŒæŠ•èµ„éœ€è°¨æ…ã€‚è¯·ç»“åˆå®é™…æƒ…å†µç‹¬ç«‹åˆ¤æ–­ã€‚</view>
  </view>
</view>